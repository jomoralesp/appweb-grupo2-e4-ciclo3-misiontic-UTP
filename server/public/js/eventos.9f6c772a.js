(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["eventos"],{"05a6":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.dataPremios,expression:"!dataPremios ? true : false"}],staticClass:"container-loading"},[a("grid-loader",{staticClass:"Spinner__loading",staticStyle:{"background-color":"white"},attrs:{loading:!t.dataPremios,color:t.colorLoading,size:"40px"}})],1),!t.dataPremios?t._e():a("div",{staticClass:"container-section1"},[a("div",{staticClass:"container-body"},[a("div",{staticClass:"imagen"},[a("pulse-loader",{staticStyle:{"margin-block":"150px"},attrs:{color:t.colorLoading,loading:""==t.imagen}}),a("img",{directives:[{name:"show",rawName:"v-show",value:""!==t.imagen,expression:"imagen === '' ? false : true"}],attrs:{src:t.dataPremios?t.imagen:"@/assets/cross.jpg",alt:"Clock",sizes:"(min-width: 600px) 200px, 50vw"}})],1),a("div",{staticClass:"caracteristica-product"},[t._m(0),a("div",{staticClass:"body-caracteristicas"},[a("ul",[a("li",[a("strong",[t._v(" Categoria: ")]),t._v(" "+t._s(t.dataPremios?t.dataPremios.categoria:"")+" ")]),a("li",[a("strong",[t._v(" Marca: ")]),t._v(" "+t._s(t.dataPremios?t.dataPremios.marca:"")+" ")])])]),a("hr")]),a("div",{staticClass:"descripcion"},[t._m(1),a("div",{staticClass:"body-descripcion"},[t._v(" "+t._s(t.dataPremios?t.dataPremios.detalle:"")+" ")])]),a("div",{staticClass:"detalle-premio"},[a("div",{staticClass:"nombre-premio"},[a("p",{staticClass:"h4"},[t._v(t._s(t.dataPremios?t.dataPremios.nombre:""))])]),t._m(2),a("div",{staticClass:"puntos"},[t._v(" Puntos: "+t._s(t.dataPremios?t.dataPremios.valor_puntos:"")+" ")]),t._m(3),t._m(4),a("hr"),t._m(5),a("div",{staticClass:"cant"},[a("p",[t._v(" Cantidades: "),a("span",{attrs:{id:"unit"}},[t._v("1 Unidad")]),a("span",{attrs:{id:"dispo"}},[t._v("( "+t._s(t.dataPremios?t.dataPremios.cantidad:"")+" disponibles)")])])]),a("button",{attrs:{type:"button"}},[t._v("Obtener ahora")]),t._m(6)])])]),!t.dataPremios?t._e():a("div",{staticClass:"container-section"},[t._v(" ¡Gana mas puntos! ")]),!t.dataPremios?t._e():a("div",{staticClass:"container-section2"},[t._m(7)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("h2",[t._v("Caracteristica del producto")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-descripcion"},[a("h2",[t._v("Descripcion")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"start"},[a("span",{staticStyle:{"font-size":"1.5em",color:"#888888"}},[a("span",{staticClass:"mdi mdi-star"}),a("span",{staticClass:"mdi mdi-star"}),a("span",{staticClass:"mdi mdi-star"}),a("span",{staticClass:"mdi mdi-star"}),a("span",{staticClass:"mdi mdi-star"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"envio"},[a("span",{staticStyle:{"font-size":"1.5em",color:"#888888"}},[a("span",{staticClass:"mdi mdi-truck-check-outline"})]),a("p",{staticClass:"px-2 m-0"},[t._v("Envio gratis")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"color"},[t._v("Color: "),a("span",[t._v(" Gris")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stock"},[a("p",{staticClass:"h5"},[t._v("Stock disponible")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"garantia"},[a("p",{staticClass:"mb-2"},[a("span",{staticStyle:{"font-size":"1.5em",color:"#888888"}},[a("span",{staticClass:"mdi mdi-shield-check"})]),t._v(" Compra protegida ")]),a("p",{staticClass:"mb-2"},[a("span",{staticStyle:{"font-size":"1.5em",color:"#888888"}},[a("span",{staticClass:"mdi mdi-medal"})]),t._v(" Garantia de 12 meses ")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"body-section2"},[o("div",{staticClass:"imagenEvento"},[o("img",{staticClass:"img-fluid",attrs:{src:a("5275"),alt:"Clock",sizes:"(min-width: 400px) 200px, 50vw",align:"center"}})]),o("div",{staticClass:"descripcion"},[t._v(" Participa en nuestros eventos, acumula puntos y gana muchos premios ")]),o("div",{staticClass:"masEventos"},[o("u",[t._v(" Ver catalogo de eventos")])])])}],i=(a("d3b7"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("bc3a")),n=a.n(i),r=a("8a5d"),l=a("0d9b"),c={data:function(){return{dataPremios:void 0,imagen:"",colorLoading:"#242f3d"}},components:{PulseLoader:r["a"],GridLoader:l["a"]},mounted:function(){var t=this;window.scrollTo(0,0),fetch("https://mueveteporpuntos.herokuapp.com/api/premios/"+this.$route.params.id).then((function(t){return t.json()})).then((function(e){t.dataPremios=e[0],console.log(t.dataPremios),t.urlServer="https://mueveteporpuntos.herokuapp.com",n.a.get(t.urlServer+t.dataPremios.path_foto,{responseType:"arraybuffer"}).then((function(e){var a=btoa(new Uint8Array(e.data).reduce((function(t,e){return t+String.fromCharCode(e)}),""));t.imagen="data:;base64,"+a})).catch((function(e){n.a.get(t.urlServer+"/static/images/cross.jpg",{responseType:"arraybuffer"}).then((function(e){var a=btoa(new Uint8Array(e.data).reduce((function(t,e){return t+String.fromCharCode(e)}),""));t.imagen="data:;base64,"+a}))}))}))}},d=c,u=(a("af8f"),a("2877")),m=Object(u["a"])(d,o,s,!1,null,"9a3735ac",null);e["default"]=m.exports},"0cb2":function(t,e,a){var o=a("7b0b"),s=Math.floor,i="".replace,n=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,r=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,a,l,c,d){var u=a+t.length,m=l.length,v=r;return void 0!==c&&(c=o(c),v=n),i.call(d,v,(function(o,i){var n;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(u);case"<":n=c[i.slice(1,-1)];break;default:var r=+i;if(0===r)return o;if(r>m){var d=s(r/10);return 0===d?o:d<=m?void 0===l[d-1]?i.charAt(1):l[d-1]+i.charAt(1):o}n=l[r-1]}return void 0===n?"":n}))}},"0f80":function(t,e,a){},"107c":function(t,e,a){var o=a("d039"),s=a("da84"),i=s.RegExp;t.exports=o((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},"10dc":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"imagen-banner"},[a("img",{attrs:{src:t.imagen,alt:"Clock",sizes:"(min-width: 600px) 200px, 50vw",align:"center"}})]),a("div",{staticClass:"rejilla"},[a("div",{staticClass:"nombreEvento"},[t._v(t._s(t.dataEvento?t.dataEvento.titulo:"Cargando"))]),a("div",{staticClass:"descripcion"},[t._m(0),a("hr"),a("div",{staticClass:"body-descripcion"},[t._v(" "+t._s(t.dataEvento?t.dataEvento.detalle:"detalle")+" ")])]),a("div",{staticClass:"detalles"},[a("div",{staticClass:"title"},[t._v("Informacion del evento")]),a("hr"),a("ul",[a("li",[t._v(" Lugar: "),a("span",[t._v(" "+t._s(t.dataEvento?t.dataEvento.lugar:"")+" ")])]),a("li",[t._v(" Fecha: "),a("span",[t._v(" "+t._s(t.dataEvento?this.year:"")+" ")])]),a("li",[t._v(" Hora: "),a("span",[t._v(" "+t._s(t.dataEvento?this.arr[1]:"")+" ")])]),a("li",[t._v(" Puntos: "),a("span",[t._v(" "+t._s(t.dataEvento?t.dataEvento.valor_puntos:"")+" ")])])]),a("hr"),t._m(1)])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-descripcion"},[a("h2",[t._v("Descripcion del evento")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ingresarEvento"},[a("button",[t._v("Inscribirse al evento")])])}],i=(a("d3b7"),a("ac1f"),a("1276"),a("5319"),a("25f0"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("bc3a")),n=a.n(i),r={data:function(){return{dataEvento:void 0,imagen:""}},mounted:function(){var t=this;fetch("https://mueveteporpuntos.herokuapp.com/api/eventos/"+this.$route.params.id).then((function(t){return t.json()})).then((function(e){t.dataEvento=e[0],console.log(t.dataEvento),console.log(t.dataEvento.fecha_inicio),t.arr=t.dataEvento.fecha_inicio.split("T"),t.year=t.arr[0].split("-").reverse().toString().replace(/,/g,"/"),console.log(t.year),t.urlServer="https://mueveteporpuntos.herokuapp.com",n.a.get(t.urlServer+t.dataEvento.path_foto,{responseType:"arraybuffer"}).then((function(e){var a=btoa(new Uint8Array(e.data).reduce((function(t,e){return t+String.fromCharCode(e)}),""));t.imagen="data:;base64,"+a})).catch((function(e){n.a.get(t.urlServer+"/static/images/cross.jpg",{responseType:"arraybuffer"}).then((function(e){var a=btoa(new Uint8Array(e.data).reduce((function(t,e){return t+String.fromCharCode(e)}),""));t.imagen="data:;base64,"+a}))}))}))}},l=r,c=(a("bbdf"),a("2877")),d=Object(c["a"])(l,o,s,!1,null,"732a443e",null);e["default"]=d.exports},"11e8":function(t,e,a){},1276:function(t,e,a){"use strict";var o=a("d784"),s=a("44e7"),i=a("825a"),n=a("1d80"),r=a("4840"),l=a("8aa5"),c=a("50c4"),d=a("577e"),u=a("14c3"),m=a("9263"),v=a("9f7f"),p=a("d039"),f=v.UNSUPPORTED_Y,h=[].push,b=Math.min,_=4294967295,g=!p((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));o("split",(function(t,e,a){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var o=d(n(this)),i=void 0===a?_:a>>>0;if(0===i)return[];if(void 0===t)return[o];if(!s(t))return e.call(o,t,i);var r,l,c,u=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,f=new RegExp(t.source,v+"g");while(r=m.call(f,o)){if(l=f.lastIndex,l>p&&(u.push(o.slice(p,r.index)),r.length>1&&r.index<o.length&&h.apply(u,r.slice(1)),c=r[0].length,p=l,u.length>=i))break;f.lastIndex===r.index&&f.lastIndex++}return p===o.length?!c&&f.test("")||u.push(""):u.push(o.slice(p)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var s=n(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,s,a):o.call(d(s),e,a)},function(t,s){var n=i(this),m=d(t),v=a(o,n,m,s,o!==e);if(v.done)return v.value;var p=r(n,RegExp),h=n.unicode,g=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(f?"g":"y"),C=new p(f?"^(?:"+n.source+")":n,g),E=void 0===s?_:s>>>0;if(0===E)return[];if(0===m.length)return null===u(C,m)?[m]:[];var w=0,x=0,P=[];while(x<m.length){C.lastIndex=f?0:x;var y,S=u(C,f?m.slice(x):m);if(null===S||(y=b(c(C.lastIndex+(f?x:0)),m.length))===w)x=l(m,x,h);else{if(P.push(m.slice(w,x)),P.length===E)return P;for(var $=1;$<=S.length-1;$++)if(P.push(S[$]),P.length===E)return P;x=w=y}}return P.push(m.slice(w)),P}]}),!g,f)},"14c3":function(t,e,a){var o=a("c6b6"),s=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var i=a.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(t,e)}},1529:function(t,e,a){t.exports=a.p+"img/Component2Eventos.6533be66.png"},"247b":function(t,e,a){"use strict";a("707a")},"25f0":function(t,e,a){"use strict";var o=a("6eeb"),s=a("825a"),i=a("577e"),n=a("d039"),r=a("ad6d"),l="toString",c=RegExp.prototype,d=c[l],u=n((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),m=d.name!=l;(u||m)&&o(RegExp.prototype,l,(function(){var t=s(this),e=i(t.source),a=t.flags,o=i(void 0===a&&t instanceof RegExp&&!("flags"in c)?r.call(t):a);return"/"+e+"/"+o}),{unsafe:!0})},"2a76":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Eventos"},[o("h1",{staticClass:"Eventos__titulo"},[t._v(" Participa en nuestros eventos, acumula puntos y gana muchos premios ")]),o("div",{staticClass:"Eventos__lista"},t._l(t.lista_eventos,(function(t){return o("ItemEvento",{key:t.id,attrs:{dataEvento:t}})})),1),o("div",{staticStyle:{height:"10px",background:"#c4c4c4"}}),o("h1",{staticClass:"Eventos__titulo-proximos"},[t._v("Próximos eventos")]),t._m(0),o("div",{staticClass:"Eventos__seccion-premios"},[o("h1",[t._v("Redime los puntos por premios")]),o("img",{staticClass:"img-fluid",attrs:{src:a("4b56"),alt:""}}),o("button",{staticClass:"Eventos__seccionpremios-btn",on:{click:function(e){return t.$router.push("/premios")}}},[o("p",[t._v("Ver catálogo completo")])])])])},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Eventos__seccion-proximos"},[o("img",{staticClass:"Eventos__itemevento-proximo c1 img-fluid",attrs:{src:a("8dd9"),alt:""}}),o("img",{staticClass:"Eventos__itemevento-proximo c2 img-fluid",attrs:{src:a("1529"),alt:""}})])}],i=(a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.dataEvento.disponible?a("button",{on:{click:t.handleClick}},[a("div",{staticClass:"Eventos__item"},[a("div",{staticClass:"imagen"},[a("div",{directives:[{name:"show",rawName:"v-show",value:""===t.urlServer,expression:"urlServer === '' ? true : false"}],staticClass:"spinnerLoader"},[a("pulse-loader",{attrs:{color:t.colorLoading}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.urlServer,expression:"urlServer != '' ? true : false"}],staticClass:"Eventos__ItemEvento-img"},[a("img",{attrs:{src:t.urlServer,alt:""}}),a("h2",{staticClass:"fs-4"},[t._v(t._s(t.dataEvento.tipo))])])]),a("div",{staticClass:"Eventos__ItemEvento-text"},[a("div",{staticClass:"itemevento-descripcion"},[t._v(t._s(t.dataEvento.titulo))]),a("div",{staticClass:"itemevento-puntos"},[a("h1",[t._v(t._s(t.dataEvento.valor_puntos))]),a("p",{attrs:{id:"text-puntos"}},[t._v("Puntos")])]),a("div",{staticClass:"itemevento-fecha"},[t._v(" "+t._s(t.fecha)+" "),a("br"),t._v(" "+t._s(t.hora)+" ")])])])]):t._e()}),n=[],r=(a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("ac1f"),a("1276"),a("bc3a")),l=a.n(r),c=a("8a5d"),d=a("0d9b"),u=(a("df7c"),{props:["dataEvento","simple"],data:function(){return{urlServer:"",colorLoading:"#242f3d",fecha:"",hora:""}},components:{PulseLoader:c["a"],GridLoader:d["a"]},mounted:function(){var t=this;this.hora=this.getHora(),this.fecha=this.getFecha();var e="https://mueveteporpuntos.herokuapp.com";l.a.get(e+this.dataEvento.path_foto,{responseType:"arraybuffer"}).then((function(e){var a=btoa(new Uint8Array(e.data).reduce((function(t,e){return t+String.fromCharCode(e)}),""));t.urlServer="data:;base64,"+a})).catch((function(a){l.a.get(e+"/static/images/cross.jpg",{responseType:"arraybuffer"}).then((function(e){var a=btoa(new Uint8Array(e.data).reduce((function(t,e){return t+String.fromCharCode(e)}),""));t.urlServer="data:;base64,"+a}))}))},computed:{loadimage:function(t){var e=a("4f19")("./"+t);return e}},methods:{getFecha:function(){var t=this.dataEvento.fecha_inicio.split("T"),e=t[0],a=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return a[parseInt(e.split("-")[1])]+" "+e.split("-")[2]},getHora:function(){var t=this.dataEvento.fecha_inicio.split("T"),e=t[1];return e+" Horas"},handleClick:function(){this.$router.push("/eventos/detalle/"+this.dataEvento._id),window.scrollTo(0,0)}}}),m=u,v=(a("45b2"),a("2877")),p=Object(v["a"])(m,i,n,!1,null,"72b3826b",null),f=p.exports,h={components:{ItemEvento:f},data:function(){return{consultandoDatos:!1,dataVacia:!1,lista_eventos:[]}},mounted:function(){var t=this;this.consultandoDatos=!0,fetch("https://mueveteporpuntos.herokuapp.com/api/eventos").then((function(t){return t.json()})).then((function(e){t.consultandoDatos=!1,t.lista_eventos=e,console.log(t.lista_eventos)})).catch((function(e){t.dataVacia=!0,t.consultandoDatos=!1,console.log("Error consultando eventos "+e)}))}},b=h,_=(a("6a98"),Object(v["a"])(b,o,s,!1,null,"6c6de03a",null));e["default"]=_.exports},"44e7":function(t,e,a){var o=a("861d"),s=a("c6b6"),i=a("b622"),n=i("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==s(t))}},"45b2":function(t,e,a){"use strict";a("ae72")},"4b56":function(t,e,a){t.exports=a.p+"img/Component3Eventos.0ebcd727.png"},"4f19":function(t,e,a){var o={};function s(t){var e=i(t);return a(e)}function i(t){if(!a.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}s.keys=function(){return Object.keys(o)},s.resolve=i,t.exports=s,s.id="4f19"},5275:function(t,e,a){t.exports=a.p+"img/conciertoMusicaClasica.951f8cca.jpeg"},5319:function(t,e,a){"use strict";var o=a("d784"),s=a("d039"),i=a("825a"),n=a("a691"),r=a("50c4"),l=a("577e"),c=a("1d80"),d=a("8aa5"),u=a("0cb2"),m=a("14c3"),v=a("b622"),p=v("replace"),f=Math.max,h=Math.min,b=function(t){return void 0===t?t:String(t)},_=function(){return"$0"==="a".replace(/./,"$0")}(),g=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),C=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));o("replace",(function(t,e,a){var o=g?"$":"$0";return[function(t,a){var o=c(this),s=void 0==t?void 0:t[p];return void 0!==s?s.call(t,o,a):e.call(l(o),t,a)},function(t,s){var c=i(this),v=l(t);if("string"===typeof s&&-1===s.indexOf(o)&&-1===s.indexOf("$<")){var p=a(e,c,v,s);if(p.done)return p.value}var _="function"===typeof s;_||(s=l(s));var g=c.global;if(g){var C=c.unicode;c.lastIndex=0}var E=[];while(1){var w=m(c,v);if(null===w)break;if(E.push(w),!g)break;var x=l(w[0]);""===x&&(c.lastIndex=d(v,r(c.lastIndex),C))}for(var P="",y=0,S=0;S<E.length;S++){w=E[S];for(var $=l(w[0]),N=f(h(n(w.index),v.length),0),k=[],F=1;F<w.length;F++)k.push(b(w[F]));var I=w.groups;if(_){var D=[$].concat(k,N,v);void 0!==I&&D.push(I);var T=l(s.apply(void 0,D))}else T=u($,v,N,k,I,s);N>=y&&(P+=v.slice(y,N)+T,y=N+$.length)}return P+v.slice(y)}]}),!C||!_||g)},"6a98":function(t,e,a){"use strict";a("83e5")},"707a":function(t,e,a){},"83e5":function(t,e,a){},"8aa5":function(t,e,a){"use strict";var o=a("6547").charAt;t.exports=function(t,e,a){return e+(a?o(t,e).length:1)}},"8dd9":function(t,e,a){t.exports=a.p+"img/Component1Eventos.12d86872.png"},9263:function(t,e,a){"use strict";var o=a("577e"),s=a("ad6d"),i=a("9f7f"),n=a("5692"),r=a("7c73"),l=a("69f3").get,c=a("fce3"),d=a("107c"),u=RegExp.prototype.exec,m=n("native-string-replace",String.prototype.replace),v=u,p=function(){var t=/a/,e=/b*/g;return u.call(t,"a"),u.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),f=i.UNSUPPORTED_Y||i.BROKEN_CARET,h=void 0!==/()??/.exec("")[1],b=p||h||f||c||d;b&&(v=function(t){var e,a,i,n,c,d,b,_=this,g=l(_),C=o(t),E=g.raw;if(E)return E.lastIndex=_.lastIndex,e=v.call(E,C),_.lastIndex=E.lastIndex,e;var w=g.groups,x=f&&_.sticky,P=s.call(_),y=_.source,S=0,$=C;if(x&&(P=P.replace("y",""),-1===P.indexOf("g")&&(P+="g"),$=C.slice(_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==C.charAt(_.lastIndex-1))&&(y="(?: "+y+")",$=" "+$,S++),a=new RegExp("^(?:"+y+")",P)),h&&(a=new RegExp("^"+y+"$(?!\\s)",P)),p&&(i=_.lastIndex),n=u.call(x?a:_,$),x?n?(n.input=n.input.slice(S),n[0]=n[0].slice(S),n.index=_.lastIndex,_.lastIndex+=n[0].length):_.lastIndex=0:p&&n&&(_.lastIndex=_.global?n.index+n[0].length:i),h&&n&&n.length>1&&m.call(n[0],a,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(n[c]=void 0)})),n&&w)for(n.groups=d=r(null),c=0;c<w.length;c++)b=w[c],d[b[0]]=n[b[1]];return n}),t.exports=v},"99af":function(t,e,a){"use strict";var o=a("23e7"),s=a("d039"),i=a("e8b5"),n=a("861d"),r=a("7b0b"),l=a("50c4"),c=a("8418"),d=a("65f0"),u=a("1dde"),m=a("b622"),v=a("2d00"),p=m("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",b=v>=51||!s((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),_=u("concat"),g=function(t){if(!n(t))return!1;var e=t[p];return void 0!==e?!!e:i(t)},C=!b||!_;o({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,o,s,i,n=r(this),u=d(n,0),m=0;for(e=-1,o=arguments.length;e<o;e++)if(i=-1===e?n:arguments[e],g(i)){if(s=l(i.length),m+s>f)throw TypeError(h);for(a=0;a<s;a++,m++)a in i&&c(u,m,i[a])}else{if(m>=f)throw TypeError(h);c(u,m++,i)}return u.length=m,u}})},"9f7f":function(t,e,a){var o=a("d039"),s=a("da84"),i=s.RegExp;e.UNSUPPORTED_Y=o((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=o((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,a){"use strict";var o=a("23e7"),s=a("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ad6d:function(t,e,a){"use strict";var o=a("825a");t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae72:function(t,e,a){},af8f:function(t,e,a){"use strict";a("11e8")},bbdf:function(t,e,a){"use strict";a("0f80")},d784:function(t,e,a){"use strict";a("ac1f");var o=a("6eeb"),s=a("9263"),i=a("d039"),n=a("b622"),r=a("9112"),l=n("species"),c=RegExp.prototype;t.exports=function(t,e,a,d){var u=n(t),m=!i((function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})),v=m&&!i((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[l]=function(){return a},a.flags="",a[u]=/./[u]),a.exec=function(){return e=!0,null},a[u](""),!e}));if(!m||!v||a){var p=/./[u],f=e(u,""[t],(function(t,e,a,o,i){var n=e.exec;return n===s||n===c.exec?m&&!i?{done:!0,value:p.call(e,a,o)}:{done:!0,value:t.call(a,e,o)}:{done:!1}}));o(String.prototype,t,f[0]),o(c,u,f[1])}d&&r(c[u],"sham",!0)}},f35e:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("nav",{staticClass:"col-md-2 d-none d-md-block sidebar px-0 Dashboard_nav"},[a("div",{staticClass:"sidebar-sticky"},[a("ul",{staticClass:"nav flex-column"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:t.isOpenSection("Inicio")?"active":"",attrs:{href:"#"},on:{click:function(e){return t.setSectionOpen("Inicio")}}},[t._v(" Dashboard ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:t.isOpenSection("Usuarios")?"active":"",attrs:{href:"#"},on:{click:function(e){return t.setSectionOpen("Usuarios")}}},[t._v(" Usuarios ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:t.isOpenSection("Premios")?"active":"",attrs:{href:"#"},on:{click:function(e){return t.setSectionOpen("Premios")}}},[t._v(" Premios ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:t.isOpenSection("Eventos")?"active":"",attrs:{href:"#"},on:{click:function(e){return t.setSectionOpen("Eventos")}}},[t._v(" Eventos ")])])])])]),a("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 pt-3 px-4",attrs:{role:"main"}},[t.isOpenSection("Eventos")?a("CrudEventos"):t._e(),t.isOpenSection("Premios")?a("CrudPremios"):t._e(),t.isOpenSection("Inicio")?a("DashBoardInicio",[t._v(" "+t._s(t.userdata)+" ")]):t._e(),a("ReporteUsuarios",{directives:[{name:"show",rawName:"v-show",value:t.isOpenSection("Usuarios"),expression:"isOpenSection('Usuarios')"}]})],1)])])},s=[],i=a("5530"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Inicio"},[a("h1",[t._v("Este es el dashboard")]),a("p"),a("h2",[t._v("Bienvenido")]),a("p",[t._v(t._s(t.$store.state.userdata.username))]),a("p",[t._v("Último acceso "+t._s(t.$store.state.userdata.fecha_acceso))])])},r=[],l={data:function(){return{userName:"asdsdd"}},computed:{userinfo:function(){return this.$store.state.userdata.username}}},c=l,d=a("2877"),u=Object(d["a"])(c,n,r,!1,null,null,null),m=u.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[a("h1",{staticClass:"h2"},[t._v("Eventos")]),a("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showListadoEventos,expression:"showListadoEventos"}],staticClass:"btn-group mr-2"},[a("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:t.consultarEventos}},[t._v(" Actualizar ")]),a("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){return t.openNewForm()}}},[t._v(" Nuevo Evento ")])])])]),t.showFormEvento?a("EventoForm",{attrs:{categorias:t.listaCategoriaEventos,tipos:t.listaTipoEventos,sucursales:t.listaSucursales,idEvento:t.eventoSelect,dataEvento:t.dataEventSelected},on:{cerrarForm:t.closeForm,actualizarListado:t.consultarEventos}}):t._e(),t.showNewFormEvento?a("EventoNewForm",{attrs:{categorias:t.listaCategoriaEventos,tipos:t.listaTipoEventos,sucursales:t.listaSucursales},on:{cerrarForm:t.closeForm}}):t._e(),t.showDetailEvento?a("EventoDetail",{attrs:{idEvento:t.eventoSelect,dataEventoId:t.dataEventSelected},on:{cerrarDetalle:t.closeDetail,editarEvento:function(e){return t.openForm(t.eventoSelect)},eliminarEvento:function(e){return t.deleteEvento(t.eventoSelect)}}}):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.errorConsulta&&t.showListadoEventos,expression:"!errorConsulta && showListadoEventos"}],staticClass:"Seccion-tabla"},[a("h2",[t._v("Tabla de Eventos")]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-sm"},[t._m(0),a("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.datosVacios,expression:"!datosVacios"}]},t._l(t.listaEventos,(function(e,o){return a("tr",{key:e._id,class:e.disponible?" table-success":"table-warning"},[a("td",[t._v(t._s(o+1))]),a("td",[t._v(t._s(e.titulo))]),a("td",[t._v(t._s(e.categoria))]),a("td",[t._v(t._s(e.valor_puntos))]),a("td",{staticClass:"d-flex justify-content-center"},[a("button",{staticClass:"btn",on:{click:function(a){return t.openDetail(e._id)}}},[a("span",{staticClass:"mdi mdi-eye text-primary fs-4",attrs:{alt:""}})]),a("button",{staticClass:"btn btn mx-3",on:{click:function(a){return t.openForm(e._id)}}},[a("span",{staticClass:"mdi mdi-lead-pencil text-secondary fs-4"})]),a("button",{staticClass:"btn",on:{click:function(a){return t.deleteEvento(e._id)}}},[a("span",{staticClass:"mdi mdi-trash-can-outline text-danger fs-4"})])])])})),0),a("tbody",{directives:[{name:"show",rawName:"v-show",value:t.datosVacios,expression:"datosVacios"}]},[a("tr",[t._v(" No hay registros ")])]),a("tbody")])])])],1)},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Nombre")]),a("th",[t._v("Fecha")]),a("th",[t._v("Valor puntos")]),a("th",[t._v("Acciones")])])])}],f=(a("d3b7"),a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn-close pull left",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("cerrarForm")}}})]),a("p"),a("form",{staticClass:"row g-3",on:{submit:function(e){return e.preventDefault(),t.onPress.apply(null,arguments)}}},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"titulo"}},[t._v("Título del Evento")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataEventSelected.titulo,expression:"dataEventSelected.titulo"}],staticClass:"form-control",attrs:{id:"titulo",type:"text",placeholder:"Titulo",required:""},domProps:{value:t.dataEventSelected.titulo},on:{input:function(e){e.target.composing||t.$set(t.dataEventSelected,"titulo",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"lugar"}},[t._v("Lugar del Evento")]),a("div",{directives:[{name:"show",rawName:"v-show",value:1!=t.dataEventSelected.id_tipo,expression:"dataEventSelected.id_tipo != 1 ? true : false"}],staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataEventSelected.lugar,expression:"dataEventSelected.lugar"}],staticClass:"form-control",attrs:{id:"lugar",type:"text",placeholder:"Lugar",required:1!==t.dataEventSelected.id_tipo},domProps:{value:t.dataEventSelected.lugar},on:{input:function(e){e.target.composing||t.$set(t.dataEventSelected,"lugar",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 pt-0",attrs:{for:"selectcat"}},[t._v("Categoria del Evento")]),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.dataEventSelected.id_categoria,expression:"dataEventSelected.id_categoria"}],staticClass:"form-select form-control col-sm-9",attrs:{id:"selectcat",name:"selectCategoria",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dataEventSelected,"id_categoria",e.target.multiple?a:a[0])}}},t._l(t.categorias,(function(e,o){return a("option",{key:o,domProps:{value:e._id}},[t._v(" "+t._s(e.categoria)+" ")])})),0)])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 pt-0",attrs:{for:"selecttipo"}},[t._v("Tipo del Evento")]),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.dataEventSelected.id_tipo,expression:"dataEventSelected.id_tipo",modifiers:{number:!0}}],staticClass:"form-select form-control col-sm-9",attrs:{id:"selecttipo",name:"selectTipo",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.dataEventSelected,"id_tipo",e.target.multiple?a:a[0])}}},t._l(t.tipos,(function(e,o){return a("option",{key:o,domProps:{value:e._id}},[t._v(" "+t._s(e.tipoEvento)+" ")])})),0)])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"url"}},[t._v("URL del Evento")]),a("div",{directives:[{name:"show",rawName:"v-show",value:2!=t.dataEventSelected.id_tipo,expression:"dataEventSelected.id_tipo != 2 ? true : false"}],staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.dataEventSelected.url,expression:"dataEventSelected.url",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"url",type:"text",required:2!=t.dataEventSelected.id_tipo},domProps:{value:t.dataEventSelected.url},on:{input:function(e){e.target.composing||t.$set(t.dataEventSelected,"url",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 pt-0",attrs:{for:"selectsuc"}},[t._v("Sucursal")]),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.dataEventSelected.id_sucursal,expression:"dataEventSelected.id_sucursal",modifiers:{number:!0}}],staticClass:"custom-select form-control col-sm-9",attrs:{id:"selectsuc",name:"selectSucursal",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.dataEventSelected,"id_sucursal",e.target.multiple?a:a[0])}}},t._l(t.sucursales,(function(e,o){return a("option",{key:o,domProps:{value:e._id}},[t._v(" "+t._s(e.nombre)+" ")])})),0)])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"ruta"}},[t._v("Ruta de la Imágen")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataEventSelected.path_foto,expression:"dataEventSelected.path_foto"}],staticClass:"form-control",attrs:{id:"ruta",type:"text",required:""},domProps:{value:t.dataEventSelected.path_foto},on:{input:function(e){e.target.composing||t.$set(t.dataEventSelected,"path_foto",e.target.value)}}})])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 offset-sm-2 text-center"},[a("label",[t._v("Cupos")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataEventSelected.cupo,expression:"dataEventSelected.cupo"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Cupo",required:""},domProps:{value:t.dataEventSelected.cupo},on:{input:function(e){e.target.composing||t.$set(t.dataEventSelected,"cupo",e.target.value)}}})]),a("div",{staticClass:"col-md-3 offset-sm-2 text-center"},[a("label",[t._v("Valor de Puntos")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataEventSelected.valor_puntos,expression:"dataEventSelected.valor_puntos"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Valor puntos",required:""},domProps:{value:t.dataEventSelected.valor_puntos},on:{input:function(e){e.target.composing||t.$set(t.dataEventSelected,"valor_puntos",e.target.value)}}})])])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 offset-sm-2 text-center"},[a("label",{attrs:{for:"fechaInicio"}},[t._v("Fecha de Inicio")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataEventSelected.fecha_inicio,expression:"dataEventSelected.fecha_inicio"}],staticClass:"form-control",attrs:{id:"fechaInicio",type:"datetime-local",min:"2021-10-07T00:00",max:"2023-01-01T00:00",placeholder:"",required:""},domProps:{value:t.dataEventSelected.fecha_inicio},on:{input:function(e){e.target.composing||t.$set(t.dataEventSelected,"fecha_inicio",e.target.value)}}})]),a("div",{staticClass:"col-md-3 offset-sm-2 text-center"},[a("label",{attrs:{for:"fecha-fin"}},[t._v("Fecha de Finalización")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataEventSelected.fecha_fin,expression:"dataEventSelected.fecha_fin"}],staticClass:"form-control",attrs:{id:"fecha-fin",type:"datetime-local",min:"2021-10-07T00:00",max:"2023-01-01T00:00",placeholder:"",required:""},domProps:{value:t.dataEventSelected.fecha_fin},on:{input:function(e){e.target.composing||t.$set(t.dataEventSelected,"fecha_fin",e.target.value)}}})])])]),a("p"),a("div",{staticClass:"row mt-3 mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 ",attrs:{for:"selectVisibilidad"}},[t._v("Disponibilidad en el catálogo")]),a("div",{staticClass:"col-sm-9 col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.dataEventSelected.disponible,expression:"dataEventSelected.disponible"}],staticClass:"form-select form-control",attrs:{id:"selectVisibilidad"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dataEventSelected,"disponible",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:!0}},[t._v("Visible")]),a("option",{domProps:{value:!1}},[t._v("Oculto")])])]),a("div",{staticClass:"col-md-3"})]),t._m(0)]),a("h2",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.dataEvento))])])}),h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4 offset-sm-4 text-center"},[a("button",{staticClass:"btn btn-outline-success w-50 m-3",attrs:{type:"submit"}},[t._v("Actualizar")])])}],b=a("bc3a"),_=a.n(b),g={props:["categorias","tipos","sucursales","idEvento","dataEvento"],data:function(){return{modelEvento:{id_categoria:0,id_tipo:0,id_sucursal:0,titulo:"",fecha_inicio:"",fecha_fin:"",lugar:"",url:"",path_foto:"",cupo:0,valor_puntos:0,disponible:!0},dataEventSelected:[]}},updated:function(){console.log("Actualizado"),this.dataEventSelected=this.dataEvento},mounted:function(){},methods:{actualiza:function(){var t=this;fetch("https://mueveteporpuntos.herokuapp.com/api/eventos/full/"+this.idEvento).then((function(t){return t.json()})).then((function(e){t.dataEventSelected=e})).catch((function(t){console.error(t)})),console.log(this.dataEventSelected)},onPress:function(){var t=this;this.modelEvento.cupo=parseInt(this.modelEvento.cupo),this.modelEvento.valor_puntos=parseInt(this.modelEvento.valor_puntos),console.log(this.modelEvento),console.log("Se va a actualizar"),console.log(this.dataEventSelected);var e=this.$swal.mixin({customClass:{confirmButton:"btn btn-success mx-2",cancelButton:"btn btn-danger mx-2"},buttonsStyling:!1});e.fire({title:"Está seguro?",text:"Está a punto de editar un registro",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, editalo!",cancelButtonText:"No, cancelar!",reverseButtons:!0}).then((function(a){if(a.isConfirmed){var o="".concat("https://mueveteporpuntos.herokuapp.com/api","/eventos/update-event/").concat(t.idEvento),s=Object(i["a"])({},t.dataEventSelected);delete s._id,_.a.put(o,s).then((function(e){console.log(e),t.$swal("Evento modificado con exito")})).catch((function(e){console.log(e),t.$swal("Error modificando evento")})),t.$emit("actualizarListado"),t.$emit("cerrarForm")}else a.dismiss===t.$swal.DismissReason.cancel&&e.fire("Enhorabuena","El registro no será modificado","error")}))}}},C=g,E=Object(d["a"])(C,f,h,!1,null,null,null),w=E.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn-close pull left",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("cerrarDetalle")}}})]),a("p"),a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("img",{staticClass:"card-img-top",attrs:{src:t.urlImagenevento,alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(t.dataEventoId[0].titulo))])]),a("table",{staticClass:"card-table table-bordered"},[a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Categoria")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.dataEventoId[0].categoria))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Sucursal")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.dataEventoId[0].sucursal))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Lugar")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.dataEventoId[0].lugar))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Fecha de Inicio")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.dataEventoId[0].fecha_inicio))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Fecha de Finalización")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.dataEventoId[0].fecha_fin))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Tipo de Evento")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.dataEventoId[0].tipo))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Valor Puntos")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.dataEventoId[0].valor_puntos))])])])])])]),a("p"),a("div",[a("button",{staticClass:"btn btn-outline-warning  m-3",attrs:{type:"button"},on:{click:function(e){return t.$emit("editarEvento")}}},[t._v("Editar")]),a("button",{staticClass:"btn btn-outline-danger  m-3",attrs:{type:"button"},on:{click:function(e){return t.$emit("eliminarEvento")}}},[t._v("Eliminar")])])])},P=[],y=(a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),{props:["idEvento","dataEventoId"],data:function(){return{dataEvento:[],urlImagenevento:""}},mounted:function(){var t=this,e="https://mueveteporpuntos.herokuapp.com";_.a.get(e+this.dataEventoId.path_foto,{responseType:"arraybuffer"}).then((function(e){var a=btoa(new Uint8Array(e.data).reduce((function(t,e){return t+String.fromCharCode(e)}),""));t.urlImagenevento="data:;base64,"+a})).catch((function(a){_.a.get(e+"/static/images/cross.jpg",{responseType:"arraybuffer"}).then((function(e){var a=btoa(new Uint8Array(e.data).reduce((function(t,e){return t+String.fromCharCode(e)}),""));t.urlImagenevento="data:;base64,"+a}))}))}}),S=y,$=Object(d["a"])(S,x,P,!1,null,null,null),N=$.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn-close pull left",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("cerrarForm")}}})]),a("p"),a("form",{staticClass:"row g-3",on:{submit:function(e){return e.preventDefault(),t.onPress.apply(null,arguments)}}},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"titulo"}},[t._v("Título del Evento")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelEvento.titulo,expression:"modelEvento.titulo"}],staticClass:"form-control",attrs:{id:"titulo",type:"text",required:""},domProps:{value:t.modelEvento.titulo},on:{input:function(e){e.target.composing||t.$set(t.modelEvento,"titulo",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"lugar"}},[t._v("Lugar del Evento")]),a("div",{directives:[{name:"show",rawName:"v-show",value:1!==t.modelEvento.id_tipo,expression:"modelEvento.id_tipo === 1 ? false : true"}],staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelEvento.lugar,expression:"modelEvento.lugar"}],staticClass:"form-control",attrs:{id:"lugar",type:"text",required:1!==t.modelEvento.id_tipo},domProps:{value:t.modelEvento.lugar},on:{input:function(e){e.target.composing||t.$set(t.modelEvento,"lugar",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 pt-0",attrs:{for:"selectcat"}},[t._v("Categoria del Evento")]),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.modelEvento.id_categoria,expression:"modelEvento.id_categoria"}],staticClass:"custom-select form-control col-sm-9",attrs:{id:"selectcat",name:"selectCategoria",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.modelEvento,"id_categoria",e.target.multiple?a:a[0])}}},t._l(t.categorias,(function(e,o){return a("option",{key:o,domProps:{value:e._id}},[t._v(" "+t._s(e.categoria)+" ")])})),0)])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 pt-0",attrs:{for:"selecttipo"}},[t._v("Tipo del Evento")]),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.modelEvento.id_tipo,expression:"modelEvento.id_tipo",modifiers:{number:!0}}],staticClass:"custom-select form-control col-sm-9",attrs:{id:"selecttipo",name:"selectTipo",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.modelEvento,"id_tipo",e.target.multiple?a:a[0])}}},t._l(t.tipos,(function(e,o){return a("option",{key:o,domProps:{value:e._id}},[t._v(" "+t._s(e.tipoEvento)+" ")])})),0)])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"url"}},[t._v("URL del Evento")]),a("div",{directives:[{name:"show",rawName:"v-show",value:2!=t.modelEvento.id_tipo,expression:"modelEvento.id_tipo != 2 ? true : false"}],staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelEvento.url,expression:"modelEvento.url"}],staticClass:"form-control",attrs:{id:"url",type:"text"},domProps:{value:t.modelEvento.url},on:{input:function(e){e.target.composing||t.$set(t.modelEvento,"url",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 pt-0",attrs:{for:"selectsuc"}},[t._v("Sucursal")]),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model.number",value:t.modelEvento.id_sucursal,expression:"modelEvento.id_sucursal",modifiers:{number:!0}}],staticClass:"custom-select form-control col-sm-9",attrs:{id:"selectsuc",name:"selectSucursal",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var a="_value"in e?e._value:e.value;return t._n(a)}));t.$set(t.modelEvento,"id_sucursal",e.target.multiple?a:a[0])}}},t._l(t.sucursales,(function(e,o){return a("option",{key:o,domProps:{value:e._id}},[t._v(" "+t._s(e.nombre)+" ")])})),0)])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"ruta"}},[t._v("Ruta de la Imágen")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelEvento.path_foto,expression:"modelEvento.path_foto"}],staticClass:"form-control",attrs:{id:"ruta",type:"text",required:""},domProps:{value:t.modelEvento.path_foto},on:{input:function(e){e.target.composing||t.$set(t.modelEvento,"path_foto",e.target.value)}}})])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 offset-sm-2 text-center"},[a("label",[t._v("Cupos")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelEvento.cupo,expression:"modelEvento.cupo"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Cupo",required:""},domProps:{value:t.modelEvento.cupo},on:{input:function(e){e.target.composing||t.$set(t.modelEvento,"cupo",e.target.value)}}})]),a("div",{staticClass:"col-md-3 offset-sm-2 text-center"},[a("label",[t._v("Valor de Puntos")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelEvento.valor_puntos,expression:"modelEvento.valor_puntos"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Valor puntos",required:""},domProps:{value:t.modelEvento.valor_puntos},on:{input:function(e){e.target.composing||t.$set(t.modelEvento,"valor_puntos",e.target.value)}}})])])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 offset-sm-2 text-center"},[a("label",{attrs:{for:"fechaInicio"}},[t._v("Fecha de Inicio")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelEvento.fecha_inicio,expression:"modelEvento.fecha_inicio"}],staticClass:"form-control",attrs:{id:"fechaInicio",type:"datetime-local",min:"2021-10-07T00:00",max:"2023-01-01T00:00",placeholder:"",required:""},domProps:{value:t.modelEvento.fecha_inicio},on:{input:function(e){e.target.composing||t.$set(t.modelEvento,"fecha_inicio",e.target.value)}}})]),a("div",{staticClass:"col-md-3 offset-sm-2 text-center"},[a("label",{attrs:{for:"fecha-fin"}},[t._v("Fecha de Finalización")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelEvento.fecha_fin,expression:"modelEvento.fecha_fin"}],staticClass:"form-control",attrs:{id:"fecha-fin",type:"datetime-local",min:"2021-10-07T00:00",max:"2023-01-01T00:00",placeholder:"",required:""},domProps:{value:t.modelEvento.fecha_fin},on:{input:function(e){e.target.composing||t.$set(t.modelEvento,"fecha_fin",e.target.value)}}})])])]),a("p"),a("div",{staticClass:"row mt-3 mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 ",attrs:{for:"selectVisibilidad"}},[t._v("Disponibilidad en el catálogo")]),a("div",{staticClass:"col-sm-9 col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.modelEvento.disponible,expression:"modelEvento.disponible"}],staticClass:"form-select form-control",attrs:{id:"selectVisibilidad"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.modelEvento,"disponible",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:!0}},[t._v("Visible")]),a("option",{domProps:{value:!1}},[t._v("Oculto")])])])]),a("div",{staticClass:"col-md-4 offset-sm-4 text-center"},[a("button",{staticClass:"btn btn-outline-warning w-25  m-3",attrs:{type:"button"},on:{click:t.clearForm}},[t._v("Limpiar")]),a("button",{staticClass:"btn btn-outline-success w-25 m-3",attrs:{type:"submit"}},[t._v("Crear")])])])])},F=[],I={components:{DashboardAdmin:_t},props:["categorias","tipos","sucursales"],data:function(){return{modelEvento:{id_categoria:0,id_tipo:0,id_sucursal:0,titulo:"",fecha_inicio:"",fecha_fin:"",lugar:"",url:"",path_foto:"",cupo:0,valor_puntos:0,disponible:!0}}},methods:{clearForm:function(){this.modelEvento={id_categoria:0,id_tipo:0,id_sucursal:0,titulo:"",fecha_inicio:"",fecha_fin:"",lugar:"",url:"",path_foto:"",cupo:0,valor_puntos:0,disponible:!0}},onPress:function(){var t=this;this.modelEvento.cupo=parseInt(this.modelEvento.cupo),this.modelEvento.valor_puntos=parseInt(this.modelEvento.valor_puntos),console.log(this.modelEvento),console.log("creando registro");var e=this.$swal.mixin({customClass:{confirmButton:"btn btn-success mx-2",cancelButton:"btn btn-danger mx-2"},buttonsStyling:!1});e.fire({title:"Está seguro?",text:"Está a punto de crear un registro",icon:"warning",showCancelButton:!0,confirmButtonText:"Si,crealo!",cancelButtonText:"No, cancelar!",reverseButtons:!0}).then((function(a){if(a.isConfirmed){var o="".concat("https://mueveteporpuntos.herokuapp.com/api","/eventos/create-event/");_.a.post(o,t.modelEvento).then((function(e){console.log(e),t.$swal("Premio creado con exito")})).catch((function(e){console.log(e),t.$swal("Ha ocurrido un error creando el registro")})),t.clearForm(),t.$emit("cerrarForm")}else a.dismiss===t.$swal.DismissReason.cancel&&e.fire("Enhorabuena","El registro no será creado","error")}))}}},D=I,T=Object(d["a"])(D,k,F,!1,null,null,null),j=T.exports,O={components:{EventoForm:w,EventoDetail:N,EventoNewForm:j},data:function(){return{eventoSelect:"",dataEventSelected:{},listaEventos:[],datosVacios:!0,errorConsulta:!1,listaCategoriaEventos:[],listaTipoEventos:[],listaSucursales:[],showListadoEventos:!0,showDetailEvento:!1,showFormEvento:!1,showNewFormEvento:!1}},mounted:function(){this.consultarEventos(),this.consultarCategoria(),this.consultarTipos(),this.consultarSucursales()},methods:{openDetail:function(t){var e=this;this.eventoSelect=t,console.log(t),fetch("https://mueveteporpuntos.herokuapp.com/api/eventos/"+this.eventoSelect).then((function(t){return t.json()})).then((function(a){e.dataEventSelected=a,0!=e.dataEventSelected.length?console.log("Hay sin datos "+t):console.log("No hay datos")})).catch((function(t){console.error(t)})),this.showDetailEvento=!0,this.showFormEvento=!1,this.showListadoEventos=!1,this.showNewFormEvento=!1},closeDetail:function(){this.showDetailEvento=!1,this.showFormEvento=!1,this.showNewFormEvento=!1,this.showListadoEventos=!0},openForm:function(t){var e=this;this.eventoSelect=t,fetch("https://mueveteporpuntos.herokuapp.com/api/eventos/full/"+this.eventoSelect).then((function(t){return t.json()})).then((function(t){e.dataEventSelected=t})).catch((function(t){console.error(t)})),this.showDetailEvento=!1,this.showFormEvento=!0,this.showListadoEventos=!1,this.showNewFormEvento=!1},closeForm:function(){this.showDetailEvento=!1,this.showFormEvento=!1,this.showListadoEventos=!0,this.showNewFormEvento=!1,this.consultarEventos()},openNewForm:function(){this.showNewFormEvento=!0,this.showDetailEvento=!1,this.showFormEvento=!1,this.showListadoEventos=!1},consultarEventos:function(){var t=this;fetch("https://mueveteporpuntos.herokuapp.com/api/eventos").then((function(t){return t.json()})).then((function(e){t.listaEventos=e,0!=t.listaEventos.length?t.datosVacios=!1:t.datosVacios=!0,console.log(t.errorConsulta)})).catch((function(e){console.error(e),t.errorConsulta=!0})),console.log(this.listaEventos)},consultarCategoria:function(){var t=this;fetch("https://mueveteporpuntos.herokuapp.com/api/eventos/categoria/eventos").then((function(t){return t.json()})).then((function(e){t.listaCategoriaEventos=e})).catch((function(t){console.error(t)}))},consultarTipos:function(){var t=this;fetch("https://mueveteporpuntos.herokuapp.com/api/eventos/tipo/eventos").then((function(t){return t.json()})).then((function(e){t.listaTipoEventos=e})).catch((function(t){console.error(t)}))},consultarSucursales:function(){var t=this;fetch("https://mueveteporpuntos.herokuapp.com/api/sucursales").then((function(t){return t.json()})).then((function(e){t.listaSucursales=e})).catch((function(t){console.error(t)}))},deleteEvento:function(t){var e=this,a=this.$swal.mixin({customClass:{confirmButton:"btn btn-success mx-2",cancelButton:"btn btn-danger mx-2"},buttonsStyling:!1});a.fire({title:"Está seguro?",text:"Está a punto de eliminar un registro",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, borralo!",cancelButtonText:"No, cancelar!",reverseButtons:!0}).then((function(o){if(o.isConfirmed){var s="".concat("https://mueveteporpuntos.herokuapp.com/api","/eventos/delete-event/").concat(t);_.a.delete(s).then((function(t){console.log(t),a.fire("Eliminado!","El registro ha sido eliminado.","success"),e.consultarEventos(),e.closeForm()})).catch((function(t){e.$swal("Evento no eliminado ha ocurrido un error")}))}else o.dismiss===e.$swal.DismissReason.cancel&&a.fire("Enhorabuena","El registro no será eliminado","error")}))}}},L=O,A=Object(d["a"])(L,v,p,!1,null,null,null),B=A.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"},[a("h1",{staticClass:"h2"},[t._v("Premios")]),a("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showListadoPremios,expression:"showListadoPremios"}],staticClass:"btn-group mr-2"},[a("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:t.consultarPremios}},[t._v(" Actualizar ")]),a("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){return t.openNewForm()}}},[t._v(" Nuevo Premio ")])])])]),t.showFormPremio?a("PremioForm",{attrs:{categorias:t.listaCategoriaPremios,idPremio:t.premioSelect,dataPremio:t.dataPremioSelected},on:{cerrarForm:t.closeForm,actualizarListado:t.consultarPremios}}):t._e(),t.showNewFormPremio?a("PremioNewForm",{attrs:{categorias:t.listaCategoriaPremios},on:{cerrarForm:t.closeForm}}):t._e(),t.showDetailPremio?a("PremioDetail",{attrs:{idPremio:t.premioSelect,dataPremioId:t.dataPremioSelected},on:{cerrarDetalle:t.closeDetail,editarPremio:function(e){return t.openForm(t.premioSelect)},eliminarPremio:function(e){return t.deletePremio(t.premioSelect)}}}):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.errorConsulta&&t.showListadoPremios,expression:"!errorConsulta && showListadoPremios"}],staticClass:"Seccion-tabla"},[a("h2",[t._v("Tabla de Premios")]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-sm"},[t._m(0),a("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.datosVacios,expression:"!datosVacios"}]},t._l(t.listaPremios,(function(e,o){return a("tr",{key:e._id,class:e.visible?" table-success":"table-warning"},[a("td",{staticClass:"align-middle"},[t._v(t._s(o+1))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.nombre))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.cantidad))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.valor_puntos))]),a("td",{staticClass:"d-flex justify-content-center"},[a("button",{staticClass:"btn",on:{click:function(a){return t.openDetail(e._id)}}},[a("span",{staticClass:"mdi mdi-eye text-primary fs-4",attrs:{alt:""}})]),a("button",{staticClass:"btn mx-3",on:{click:function(a){return t.openForm(e._id)}}},[a("span",{staticClass:"mdi mdi-lead-pencil text-secondary fs-4"})]),a("button",{staticClass:"btn",on:{click:function(a){return t.deletePremio(e._id)}}},[a("span",{staticClass:"mdi mdi-trash-can-outline text-danger fs-4"})])])])})),0),a("tbody",{directives:[{name:"show",rawName:"v-show",value:t.datosVacios,expression:"datosVacios"}]},[a("tr",[t._v(" No hay registros ")])]),a("tbody")])])])],1)},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Nombre")]),a("th",[t._v("Cantidad")]),a("th",[t._v("Valor puntos")]),a("th",[t._v("Acciones")])])])}],q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn-close pull left",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("cerrarForm")}}})]),a("p"),a("form",{staticClass:"row g-3",on:{submit:function(e){return e.preventDefault(),t.onPress.apply(null,arguments)}}},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"nombre"}},[t._v("Nombre del Premio")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataPremioSelected.nombre,expression:"dataPremioSelected.nombre"}],staticClass:"form-control",attrs:{id:"nombre",type:"text",required:""},domProps:{value:t.dataPremioSelected.nombre},on:{input:function(e){e.target.composing||t.$set(t.dataPremioSelected,"nombre",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"marca"}},[t._v("Marca del Premio")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataPremioSelected.marca,expression:"dataPremioSelected.marca"}],staticClass:"form-control",attrs:{id:"marca",type:"text",required:""},domProps:{value:t.dataPremioSelected.marca},on:{input:function(e){e.target.composing||t.$set(t.dataPremioSelected,"marca",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"detalle"}},[t._v("Detalle del Premio")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataPremioSelected.detalle,expression:"dataPremioSelected.detalle"}],staticClass:"form-control",attrs:{id:"detalle",type:"text"},domProps:{value:t.dataPremioSelected.detalle},on:{input:function(e){e.target.composing||t.$set(t.dataPremioSelected,"detalle",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"rutaimg"}},[t._v("Ruta de la Imágen")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataPremioSelected.path_foto,expression:"dataPremioSelected.path_foto"}],staticClass:"form-control",attrs:{id:"rutaimg",type:"text",required:""},domProps:{value:t.dataPremioSelected.path_foto},on:{input:function(e){e.target.composing||t.$set(t.dataPremioSelected,"path_foto",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 pt-0",attrs:{for:"selectcat"}},[t._v("Categoria del Premio")]),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.dataPremioSelected.id_categoria,expression:"dataPremioSelected.id_categoria"}],staticClass:"form-select form-control col-sm-9",attrs:{id:"selectcat",name:"selectCategoria",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.dataPremioSelected,"id_categoria",e.target.multiple?a:a[0])}}},t._l(t.categorias,(function(e,o){return a("option",{key:o,domProps:{value:e._id}},[t._v(" "+t._s(e.categoria)+" ")])})),0)])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 offset-sm-2 text-center"},[a("label",[t._v("Cantidad")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.dataPremioSelected.cantidad,expression:"dataPremioSelected.cantidad",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:t.dataPremioSelected.cantidad},on:{input:function(e){e.target.composing||t.$set(t.dataPremioSelected,"cantidad",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-md-3 offset-sm-2 text-center"},[a("label",[t._v("Puntos")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.dataPremioSelected.valor_puntos,expression:"dataPremioSelected.valor_puntos",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:t.dataPremioSelected.valor_puntos},on:{input:function(e){e.target.composing||t.$set(t.dataPremioSelected,"valor_puntos",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])]),a("div",{staticClass:"row mt-3 mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 ",attrs:{for:"selectVisibilidad"}},[t._v("Disponibilidad en el stock")]),a("div",{staticClass:"col-sm-9 col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.modelPremio.visible,expression:"modelPremio.visible"}],staticClass:"form-select form-control",attrs:{id:"selectVisibilidad"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.modelPremio,"visible",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:!0}},[t._v("Visible")]),a("option",{domProps:{value:!1}},[t._v("Oculto")])])])]),t._m(0)]),a("h2",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.dataPremio))])])},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4 offset-sm-4 text-center"},[a("button",{staticClass:"btn btn-outline-success w-50 m-3",attrs:{type:"submit"}},[t._v("Actualizar")])])}],z={props:["categorias","idPremio","dataPremio"],data:function(){return{modelPremio:{id_categoria:0,nombre:"",marca:"",detalle:"",path_foto:"",cantidad:0,valor_puntos:0,visible:!0},dataPremioSelected:[]}},updated:function(){console.log("Actualizado form premio"),this.dataPremioSelected=this.dataPremio},mounted:function(){},methods:{actualiza:function(){var t=this;fetch("https://mueveteporpuntos.herokuapp.com/api/premios/full/"+this.idPremio).then((function(t){return t.json()})).then((function(e){t.dataPremioSelected=e})).catch((function(t){console.error(t)})),console.log(this.dataPremioSelected)},onPress:function(){var t=this;console.log("Se va a actualizar"),console.log(this.dataPremioSelected);var e=this.$swal.mixin({customClass:{confirmButton:"btn btn-success mx-2",cancelButton:"btn btn-danger mx-2"},buttonsStyling:!1});e.fire({title:"Está seguro?",text:"Está a punto de editar un registro",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, editalo!",cancelButtonText:"No, cancelar!",reverseButtons:!0}).then((function(a){if(a.isConfirmed){var o="".concat("https://mueveteporpuntos.herokuapp.com/api","/premios/update-premio/").concat(t.idPremio),s=Object(i["a"])({},t.dataPremioSelected);delete s._id,_.a.put(o,s).then((function(e){console.log(e),t.$swal("Premio modificado con exito")})).catch((function(e){console.log(e),t.$swal("Error modificando premio")})),t.$emit("actualizarListado"),t.$emit("cerrarForm")}else a.dismiss===t.$swal.DismissReason.cancel&&e.fire("Enhorabuena","El registro no será modificado","error")}))}}},M=z,H=Object(d["a"])(M,q,U,!1,null,null,null),G=H.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn-close pull left",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("cerrarDetalle")}}})]),a("p"),a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("img",{staticClass:"card-img-top",attrs:{src:t.urlImagen,alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(t.dataPremioId[0].nombre||"titulo"))]),a("p",{staticClass:"card-text"},[t._v(t._s(t.dataPremioId[0].detalle||"Detalle"))])]),a("table",{staticClass:"card-table table-bordered"},[a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Categoria")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.dataPremioId[0].categoria))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Marca")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.dataPremioId[0].marca))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Cantidad")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.dataPremioId[0].cantidad))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Valor Puntos")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.dataPremioId[0].valor_puntos))])])])])])]),a("p"),a("div",[a("button",{staticClass:"btn btn-outline-warning  m-3",attrs:{type:"button"},on:{click:function(e){return t.$emit("editarPremio")}}},[t._v("Editar")]),a("button",{staticClass:"btn btn-outline-danger  m-3",attrs:{type:"button"},on:{click:function(e){return t.$emit("eliminarPremio")}}},[t._v("Eliminar")])])])},Y=[],K={props:["idPremio","dataPremioId"],data:function(){return{dataPremio:[],urlImagen:""}},mounted:function(){var t=this,e="https://mueveteporpuntos.herokuapp.com";_.a.get(e+this.dataPremio.path_foto,{responseType:"arraybuffer"}).then((function(e){var a=btoa(new Uint8Array(e.data).reduce((function(t,e){return t+String.fromCharCode(e)}),""));t.urlImagen="data:;base64,"+a})).catch((function(a){_.a.get(e+"/static/images/cross.jpg",{responseType:"arraybuffer"}).then((function(e){var a=btoa(new Uint8Array(e.data).reduce((function(t,e){return t+String.fromCharCode(e)}),""));t.urlImagen="data:;base64,"+a}))}))}},Q=K,W=Object(d["a"])(Q,J,Y,!1,null,null,null),X=W.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn-close pull left",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("cerrarForm")}}})]),a("p"),a("form",{staticClass:"row g-3",on:{submit:function(e){return e.preventDefault(),t.onPress.apply(null,arguments)}}},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"nombre"}},[t._v("Nombre del Premio")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelPremio.nombre,expression:"modelPremio.nombre"}],staticClass:"form-control",attrs:{id:"nombre",type:"text",required:""},domProps:{value:t.modelPremio.nombre},on:{input:function(e){e.target.composing||t.$set(t.modelPremio,"nombre",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"marca"}},[t._v("Marca del Premio")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelPremio.marca,expression:"modelPremio.marca"}],staticClass:"form-control",attrs:{id:"marca",type:"text",required:""},domProps:{value:t.modelPremio.marca},on:{input:function(e){e.target.composing||t.$set(t.modelPremio,"marca",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"detalle"}},[t._v("Detalle del Premio")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelPremio.detalle,expression:"modelPremio.detalle"}],staticClass:"form-control",attrs:{id:"detalle",type:"text"},domProps:{value:t.modelPremio.detalle},on:{input:function(e){e.target.composing||t.$set(t.modelPremio,"detalle",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"rutaimg"}},[t._v("Ruta de la Imágen")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelPremio.path_foto,expression:"modelPremio.path_foto"}],staticClass:"form-control",attrs:{id:"rutaimg",type:"text",required:""},domProps:{value:t.modelPremio.path_foto},on:{input:function(e){e.target.composing||t.$set(t.modelPremio,"path_foto",e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 pt-0",attrs:{for:"selectcat"}},[t._v("Categoria del Premio")]),a("div",{staticClass:"col-sm-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.modelPremio.id_categoria,expression:"modelPremio.id_categoria"}],staticClass:"form-select form-control col-sm-9",attrs:{id:"selectcat",name:"selectCategoria",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.modelPremio,"id_categoria",e.target.multiple?a:a[0])}}},t._l(t.categorias,(function(e,o){return a("option",{key:o,domProps:{value:e._id}},[t._v(" "+t._s(e.categoria)+" ")])})),0)])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3 offset-sm-2 text-center",staticStyle:{"padding-inline-end":"2%"}},[a("label",[t._v("Cantidad")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.modelPremio.cantidad,expression:"modelPremio.cantidad",modifiers:{number:!0}}],staticClass:"form-control col-md-3",attrs:{type:"number",placeholder:"Cantidad",required:""},domProps:{value:t.modelPremio.cantidad},on:{input:function(e){e.target.composing||t.$set(t.modelPremio,"cantidad",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-md-3 offset-sm-2 text-center"},[a("label",[t._v("Puntos")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.modelPremio.valor_puntos,expression:"modelPremio.valor_puntos",modifiers:{number:!0}}],staticClass:"form-control ",attrs:{type:"number",placeholder:"Valor puntos",required:""},domProps:{value:t.modelPremio.valor_puntos},on:{input:function(e){e.target.composing||t.$set(t.modelPremio,"valor_puntos",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])]),a("div",{staticClass:"row mt-3 mb-3"},[a("label",{staticClass:"col-form-label col-sm-2 ",attrs:{for:"selectVisibilidad"}},[t._v("Disponibilidad en el stock")]),a("div",{staticClass:"col-sm-9 col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.modelPremio.visible,expression:"modelPremio.visible"}],staticClass:"form-select form-control",attrs:{id:"selectVisibilidad"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.modelPremio,"visible",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:!0}},[t._v("Visible")]),a("option",{domProps:{value:!1}},[t._v("Oculto")])])]),a("div",{staticClass:"col-md-3"})]),a("div",{staticClass:"col-md-4 offset-sm-4 text-center"},[a("button",{staticClass:"btn btn-outline-warning w-25 m-3",attrs:{type:"button"},on:{click:t.clearForm}},[t._v(" Limpiar ")]),a("button",{staticClass:"btn btn-outline-success m-3",attrs:{type:"submit"}},[t._v(" Crear ")])])])])},tt=[],et={props:["categorias"],data:function(){return{modelPremio:{id_categoria:0,nombre:"",marca:"",detalle:"",path_foto:"",cantidad:0,valor_puntos:0,visible:!0}}},methods:{clearForm:function(){this.modelPremio={id_categoria:0,nombre:"",marca:"",detalle:"",path_foto:"",cantidad:0,valor_puntos:0,visible:!0}},onPress:function(){var t=this;console.log(this.modelPremio),console.log("creando registro");var e=this.$swal.mixin({customClass:{confirmButton:"btn btn-success mx-2",cancelButton:"btn btn-danger mx-2"},buttonsStyling:!1});e.fire({title:"Está seguro?",text:"Está a punto de crear un registro",icon:"warning",showCancelButton:!0,confirmButtonText:"Si,crealo!",cancelButtonText:"No, cancelar!",reverseButtons:!0}).then((function(a){if(a.isConfirmed){var o="".concat("https://mueveteporpuntos.herokuapp.com/api","/premios/create-premio/");_.a.post(o,t.modelPremio).then((function(e){console.log(e),t.$swal("Evento creado con exito")})).catch((function(e){console.log(e),t.$swal("Ha ocurrido un error creando el registro")})),t.clearForm(),t.$emit("cerrarForm")}else a.dismiss===t.$swal.DismissReason.cancel&&e.fire("Enhorabuena","El registro no será creado","error")}))}}},at=et,ot=Object(d["a"])(at,Z,tt,!1,null,null,null),st=ot.exports,it={components:{PremioForm:G,PremioDetail:X,PremioNewForm:st},data:function(){return{premioSelect:"",dataPremioSelected:{},listaPremios:[],datosVacios:!0,errorConsulta:!1,listaCategoriaPremios:[],showListadoPremios:!0,showDetailPremio:!1,showFormPremio:!1,showNewFormPremio:!1}},mounted:function(){this.consultarPremios(),this.consultarCategoria()},methods:{openDetail:function(t){var e=this;this.premioSelect=t,console.log(t),fetch("https://mueveteporpuntos.herokuapp.com/api/premios/"+this.premioSelect).then((function(t){return t.json()})).then((function(a){console.log(a),e.dataPremioSelected=a,0!=e.dataPremioSelected.length?console.log("Hay sin datos "+t):console.log("No hay datos")})).catch((function(t){console.error(t)})),this.showDetailPremio=!0,this.showFormPremio=!1,this.showListadoPremios=!1,this.showNewFormPremio=!1},closeDetail:function(){this.showDetailPremio=!1,this.showFormPremio=!1,this.showNewFormPremio=!1,this.showListadoPremios=!0},openForm:function(t){var e=this;this.premioSelect=t,fetch("https://mueveteporpuntos.herokuapp.com/api/premios/full/"+this.premioSelect).then((function(t){return t.json()})).then((function(t){e.dataPremioSelected=t})).catch((function(t){console.error(t)})),this.showDetailPremio=!1,this.showFormPremio=!0,this.showListadoPremios=!1,this.showNewFormPremio=!1},closeForm:function(){this.consultarPremios(),this.showDetailPremio=!1,this.showFormPremio=!1,this.showListadoPremios=!0,this.showNewFormPremio=!1},openNewForm:function(){this.showNewFormPremio=!0,this.showDetailPremio=!1,this.showFormPremio=!1,this.showListadoPremios=!1},consultarPremios:function(){var t=this;fetch("https://mueveteporpuntos.herokuapp.com/api/premios").then((function(t){return t.json()})).then((function(e){t.listaPremios=e,0!=t.listaPremios.length?t.datosVacios=!1:t.datosVacios=!0,console.log(t.errorConsulta)})).catch((function(e){console.error(e),t.errorConsulta=!0})),console.log(this.listaPremios)},consultarCategoria:function(){var t=this;fetch("https://mueveteporpuntos.herokuapp.com/api/premios/categoria/premios").then((function(t){return t.json()})).then((function(e){t.listaCategoriaPremios=e})).catch((function(t){console.error(t)}))},deletePremio:function(t){var e=this,a=this.$swal.mixin({customClass:{confirmButton:"btn btn-success mx-2",cancelButton:"btn btn-danger mx-2"},buttonsStyling:!1});a.fire({title:"Está seguro?",text:"Está a punto de eliminar un registro",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, borralo!",cancelButtonText:"No, cancelar!",reverseButtons:!0}).then((function(o){if(o.isConfirmed){var s="".concat("https://mueveteporpuntos.herokuapp.com/api","/premios/delete-premio/").concat(t);_.a.delete(s).then((function(t){console.log(t),a.fire("Eliminado!","El registro ha sido eliminado.","success"),e.consultarPremios(),e.closeForm()})).catch((function(t){e.$swal("Premio no eliminado, ha ocurrido un error")}))}else o.dismiss===e.$swal.DismissReason.cancel&&a.fire("Enhorabuena","El registro no será eliminado","error")}))}}},nt=it,rt=Object(d["a"])(nt,R,V,!1,null,null,null),lt=rt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("Premios entregados")])},dt=[],ut={},mt=Object(d["a"])(ut,ct,dt,!1,null,null,null),vt=mt.exports,pt=a("2f62"),ft={data:function(){return{sectionOpen:"Inicio",showMainTable:!0}},methods:{setSectionOpen:function(t){this.sectionOpen=t},isOpenSection:function(t){return t===this.sectionOpen}},computed:Object(i["a"])({},Object(pt["b"])(["userdata"])),components:{DashBoardInicio:m,CrudEventos:B,CrudPremios:lt,ReporteUsuarios:vt}},ht=ft,bt=(a("247b"),Object(d["a"])(ht,o,s,!1,null,"172deb9a",null)),_t=e["default"]=bt.exports},fce3:function(t,e,a){var o=a("d039"),s=a("da84"),i=s.RegExp;t.exports=o((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=eventos.9f6c772a.js.map